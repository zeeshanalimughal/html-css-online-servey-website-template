<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/Font-Awesome-4.7.0/css/font-awesome.css">

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
</head>

<body>
    <div class="navbox">
        <div class="warapper">
            <i class="fa fa-bars" id="menu"></i>
            <div class="logo">
                <a href="home.html"><span>Do</span> Servey</a>
            </div>
            <div class="search_box">
                <div class="icon">
                    <i class="fa fa-search"></i>
                </div>
                <input type="text" class="search" name="search" placeholder="Search servey's">
                <div class="cancel" id="cancel">
                    <i class="fa fa-times"></i>
                </div>
            </div>
            <ul class="navigation">
                <li><a href="index.html">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="favorite.html">Faq</a></li>
                <li><a href="#">Contact Us</a></li>
                <li><a href="login.html">Login</a></li>
            </ul>
        </div>
    </div>


    <div class="container" id="container">
        <div class="caption" id="slider-caption">
            <div class="caption-heading">
                <h1>Lorem Ipsum</h1>
            </div>
            <div class="caption-subhead"><span>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa atque earum quos labore sapiente nemo dicta, porro ipsam provident amet.</span></div>
            <a class="btn"
                href="#">Sit Amet</a>
        </div>
        <div class="left-col" id="left-col">
            <div id="left-slider"></div>
        </div>
        <ul class="nav">
            <li class="slide-up"> <a href="#">
                    </a>
            </li>
            <li class="slide-down"> <a id="down_button" href="#">></a></li>
        </ul>
    </div>

    <section class="servey">
        <h1 class="popular_servey">
            Our Popular Serveys
        </h1>
        <div class="boxses">
            <div class="box_singles">
                <div class="image">
                    <img src="images/bg.jpg" alt="">
                </div>
                <div class="content">
                    <a href="#" class="title">Online Book Shop Servey</a>
                    <p class="desc">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam recusandae error
                        animi.</p>
                </div>
                <div class="box_footer">
                    <span><i class="fa fa-heart"></i></span>
                    <p class="questions">Q: <span>15</span></p>
                    <p class="price">Rs: <span>50</span></p>
                </div>
            </div>
            <div class="box_singles">
                <div class="image">
                    <img src="images/bg.jpg" alt="">
                </div>
                <div class="content">
                    <a href="#" class="title">Online Book Shop Servey</a>
                    <p class="desc">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam recusandae error
                        animi.</p>
                </div>
                <div class="box_footer">
                    <span><i class="fa fa-heart"></i></span>
                    <p class="questions">Q: <span>15</span></p>
                    <p class="price">Rs: <span>50</span></p>
                </div>
            </div>
            <div class="box_singles">
                <div class="image">
                    <img src="images/bg.jpg" alt="">
                </div>
                <div class="content">
                    <a href="#" class="title">Online Book Shop Servey</a>
                    <p class="desc">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam recusandae error
                        animi.</p>
                </div>
                <div class="box_footer">
                    <span><i class="fa fa-heart"></i></span>
                    <p class="questions">Q: <span>15</span></p>
                    <p class="price">Rs: <span>50</span></p>
                </div>
            </div>
            <div class="box_singles">
                <div class="image">
                    <img src="images/bg.jpg" alt="">
                </div>
                <div class="content">
                    <a href="#" class="title">Online Book Shop Servey</a>
                    <p class="desc">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam recusandae error
                        animi.</p>
                </div>
                <div class="box_footer">
                    <span><i class="fa fa-heart"></i></span>
                    <p class="questions">Q: <span>15</span></p>
                    <p class="price">Rs: <span>50</span></p>
                </div>
            </div>
        </div>
    </section>

<br><br><br><br><br>
    <div class="footer">
        <div class="box-container">

            <div class="box">
                <h3>about us</h3>
                <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Cumque beatae aliquid vitae, laboriosam
                    iusto voluptatibus. Fugit temporibus veritatis eum quos inventore laboriosam, nesciunt delectus
                    fugiat eos incidunt autem aperiam dolore!</p>
            </div>

            <div class="box">
                <h3>quick links</h3>
                <a href="#">home</a>
                <a href="#">about</a>
                <a href="#">contact</a>
                <a href="#">servey</a>
                <a href="#">account</a>
                <a href="#">events</a>
            </div>

            <div class="box">
                <h3>contact us</h3>
                <p> <i class="fa fa-phone"></i> +123-456-7890. </p>
                <p> <i class="fa fa-envelope"></i> example@gmail.com </p>
                <p> <i class="fa fa-map-marker"></i> pakistan, punjab - 64200 </p>
            </div>

            <div class="box">
                <h3>follow us</h3>
                <a href="#">facebook</a>
                <a href="#">twitter</a>
                <a href="#">instagram</a>
                <a href="#">youtube</a>
                <a href="#">linkedin</a>
            </div>

        </div>
        <h3 class="credit"> created by <a href="#"> zeeshan ali </a> | all rights reserved! </h3>
    </div>
    <script>
        const menu = document.querySelector('#menu');
        const navigation = document.querySelector('.navigation');
        const searchBox = document.querySelector('.icon');
        const cancel = document.querySelector('#cancel');
        menu.addEventListener('click', function () {
            navigation.classList.toggle('active');
            menu.classList.toggle('active');
        });
        searchBox.addEventListener('click', () => {
            searchBox.parentElement.classList.add('active');
        });
        cancel.addEventListener('click', function () {
            searchBox.parentElement.classList.remove('active');
        });







        let slide_data = [
            {
                'src': 'images/1.jpg',
                'title': 'Online Servey',
                'copy': 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, fugit. Ea dolore commodi temporibus laborum id explicabo voluptatibus sit blanditiis!'
            },
            {
                'src': 'images/2.jpg',
                'title': 'Online Servey',
                'copy': 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, fugit. Ea dolore commodi temporibus laborum id explicabo voluptatibus sit blanditiis!'
            },
            {
                'src': 'images/3.jpg',
                'title': 'Online Servey',
                'copy': 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, fugit. Ea dolore commodi temporibus laborum id explicabo voluptatibus sit blanditiis!'
            },
            {
                'src': 'images/4.jpg',
                'title': 'Online Servey',
                'copy': 'Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, fugit. Ea dolore commodi temporibus laborum id explicabo voluptatibus sit blanditiis!'
            },

        ];
        let slides = [],
            captions = [];

        let autoplay = setInterval(function () {
            nextSlide();
        }, 4000);
        let container = document.getElementById('container');
        let leftSlider = document.getElementById('left-col');
        // console.log(leftSlider);
        let down_button = document.getElementById('down_button');
        // let caption = document.getElementById('slider-caption');
        // let caption_heading = caption.querySelector('caption-heading');

        down_button.addEventListener('click', function (e) {
            e.preventDefault();
            clearInterval(autoplay);
            nextSlide();
            autoplay;
        });

        for (let i = 0; i < slide_data.length; i++) {
            let slide = document.createElement('div'),
                caption = document.createElement('div'),
                slide_title = document.createElement('div');

            slide.classList.add('slide');
            slide.setAttribute('style', 'background:linear-gradient(155deg, rgba(0, 0, 0, 0.7),rgba(0, 0, 0, 0.7)),url(' + slide_data[i].src + ')');
            caption.classList.add('caption');
            slide_title.classList.add('caption-heading');
            slide_title.innerHTML = '<h1>' + slide_data[i].title + '</h1>';

            switch (i) {
                case 0:
                    slide.classList.add('current');
                    caption.classList.add('current-caption');
                    break;
                case 1:
                    slide.classList.add('next');
                    caption.classList.add('next-caption');
                    break;
                case slide_data.length - 1:
                    slide.classList.add('previous');
                    caption.classList.add('previous-caption');
                    break;
                default:
                    break;
            }
            
            caption.appendChild(slide_title);
            caption.insertAdjacentHTML('beforeend', '<div class="caption-subhead"><span>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Delectus, fugit.<br> Ea dolore commodi temporibus laborum id explicabo voluptatibus sit blanditiis!</span></div>');
            slides.push(slide);
            captions.push(caption);
            leftSlider.appendChild(slide);
            container.appendChild(caption);
        }
        // console.log(slides);

        function nextSlide() {
            // caption.classList.add('offscreen');

            slides[0].classList.remove('current');
            slides[0].classList.add('previous', 'change');
            slides[1].classList.remove('next');
            slides[1].classList.add('current');
            slides[2].classList.add('next');
            let last = slides.length - 1;
            slides[last].classList.remove('previous');

            captions[0].classList.remove('current-caption');
            captions[0].classList.add('previous-caption', 'change');
            captions[1].classList.remove('next-caption');
            captions[1].classList.add('current-caption');
            captions[2].classList.add('next-caption');
            let last_caption = captions.length - 1;

            // console.log(last);
            captions[last].classList.remove('previous-caption');

            let placeholder = slides.shift();
            let captions_placeholder = captions.shift();
            slides.push(placeholder);
            captions.push(captions_placeholder);
        }

        let heading = document.querySelector('.caption-heading');


        // https://jonsuh.com/blog/detect-the-end-of-css-animations-and-transitions-with-javascript/
        function whichTransitionEvent() {
            var t,
                el = document.createElement("fakeelement");

            var transitions = {
                "transition": "transitionend",
                "OTransition": "oTransitionEnd",
                "MozTransition": "transitionend",
                "WebkitTransition": "webkitTransitionEnd"
            }

            for (t in transitions) {
                if (el.style[t] !== undefined) {
                    return transitions[t];
                }
            }
        }

        var transitionEvent = whichTransitionEvent()
        caption.addEventListener(transitionEvent, customFunction);

        function customFunction(event) {
            caption.removeEventListener(transitionEvent, customFunction);
            console.log('animation ended');

            // Do something when the transition ends
        }



    </script>
</body>

</html>